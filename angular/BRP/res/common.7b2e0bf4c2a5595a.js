"use strict";(self.webpackChunkBRP=self.webpackChunkBRP||[]).push([[592],{5065:(I,g,l)=>{l.d(g,{K:()=>S});var c=l(9468),m=l(9862),d=l(6814);let k=(()=>{class t{constructor(e,s){this.document=e,this.platformId=s,this.documentIsAccessible=(0,d.NF)(this.platformId)}static getCookieRegExp(e){const s=e.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+s+"|;\\s*"+s+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return!!this.documentIsAccessible&&(e=encodeURIComponent(e),t.getCookieRegExp(e).test(this.document.cookie))}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);const o=t.getCookieRegExp(e).exec(this.document.cookie);return o[1]?t.safeDecodeURIComponent(o[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const e={},s=this.document;return s.cookie&&""!==s.cookie&&s.cookie.split(";").forEach(o=>{const[n,i]=o.split("=");e[t.safeDecodeURIComponent(n.replace(/^ /,""))]=t.safeDecodeURIComponent(i)}),e}set(e,s,o,n,i,a,f){if(!this.documentIsAccessible)return;if("number"==typeof o||o instanceof Date||n||i||a||f)return void this.set(e,s,{expires:o,path:n,domain:i,secure:a,sameSite:f||"Lax"});let u=encodeURIComponent(e)+"="+encodeURIComponent(s)+";";const r=o||{};r.expires&&(u+="number"==typeof r.expires?"expires="+new Date((new Date).getTime()+1e3*r.expires*60*60*24).toUTCString()+";":"expires="+r.expires.toUTCString()+";"),r.path&&(u+="path="+r.path+";"),r.domain&&(u+="domain="+r.domain+";"),!1===r.secure&&"None"===r.sameSite&&(r.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),r.secure&&(u+="secure;"),r.sameSite||(r.sameSite="Lax"),u+="sameSite="+r.sameSite+";",this.document.cookie=u}delete(e,s,o,n,i="Lax"){this.documentIsAccessible&&this.set(e,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:s,domain:o,secure:n,sameSite:i})}deleteAll(e,s,o,n="Lax"){if(!this.documentIsAccessible)return;const i=this.getAll();for(const a in i)i.hasOwnProperty(a)&&this.delete(a,e,s,o,n)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(d.K0),c.LFG(c.Lbi))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),v=(()=>{class t{constructor(){this.storage=window.localStorage}set(e,s){return!!this.storage&&(this.storage.setItem(e,JSON.stringify(s)),!0)}get(e){return this.storage?JSON.parse(this.storage.getItem(e)):null}remove(e){return!!this.storage&&(this.storage.removeItem(e),!0)}clear(){return!!this.storage&&(this.storage.clear(),!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),S=(()=>{class t{constructor(e,s,o){this.HttpClient=e,this.CookieService=s,this.LocalStorageService=o,this.user=[],this.logged=!1,this.url="https://cip.brapci.inf.br/api/"}logout(){this.LocalStorageService.remove("user"),this.CookieService.delete("token")}getUser(){return this.user=this.LocalStorageService.get("user"),null==this.user?[]:(this.user=this.user[0],this.user)}checkLogin(e){return"200"==e.status&&(this.CookieService.set("token",e.token),this.user=[],this.user.push({id:e.id,displayName:e.displayName,email:e.email,givenName:e.givenName,sn:e.sn,token:e.token,persistentId:e["persistent-id"]}),this.LocalStorageService.set("user",this.user),!0)}loged(){return this.user=this.LocalStorageService.get("user"),null!=this.user&&(this.user=this.user[0],!0)}loginSubmitHttp(e,s){let o=`${this.url}socials/signin`;var n=new FormData;return n.append("user",e),n.append("pwd",s),this.HttpClient.post(o,n).pipe(i=>i,i=>i)}}return t.\u0275fac=function(e){return new(e||t)(c.LFG(m.eN),c.LFG(k),c.LFG(v))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);