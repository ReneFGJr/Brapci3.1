"use strict";(self.webpackChunkBRP=self.webpackChunkBRP||[]).push([[716],{6716:(R,m,p)=>{p.r(m),p.d(m,{PopupModule:()=>y});var u=p(6814),a=p(594),t=p(9468);let f=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["popup-index"]],decls:1,vars:0,template:function(e,n){1&e&&t._UZ(0,"router-outlet")},dependencies:[a.lC],encapsulation:2}),o})();var r=p(95),h=p(1090),_=p(4392);function b(o,i){if(1&o&&(t.TgZ(0,"button",20),t._UZ(1,"img",21),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.loaging_img,t.LSH)}}function v(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"option",22),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.selectResource(c.ID))}),t._uU(1),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("value",e.ID),t.xp6(1),t.hij(" ",e.name," ")}}function g(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"form",10)(2,"label"),t._uU(3,"Termos de busca"),t.qZA(),t.TgZ(4,"div",11)(5,"input",12),t.NdJ("keyup",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.keyUp())}),t.qZA(),t.TgZ(6,"button",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.submitAction())}),t._uU(7," Busca "),t.qZA(),t.YNc(8,b,2,1,"button",14),t._UZ(9,"br"),t.qZA(),t.TgZ(10,"select",15),t.YNc(11,v,2,2,"option",16),t.qZA(),t.TgZ(12,"button",17),t._uU(13," Include "),t.qZA(),t.TgZ(14,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.save(!0))}),t._uU(15," Save & Close "),t.qZA(),t.TgZ(16,"button",18),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.save(!1))}),t._uU(17," Save & Continue "),t.qZA(),t.TgZ(18,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.wclose())}),t._uU(19," Close "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.searchForm),t.xp6(7),t.Q6J("ngIf",e.loading),t.xp6(3),t.Q6J("ngForOf",e.concepts),t.xp6(1),t.Q6J("ngClass",0==e.btn1?"btn-primary":"btn-outline-secondary")("disabled",e.btn1),t.xp6(2),t.Q6J("ngClass",0==e.btn2?"btn-primary":"btn-outline-secondary")("disabled",e.btn2),t.xp6(2),t.Q6J("ngClass",0==e.btn3?"btn-primary":"btn-outline-secondary")("disabled",e.btn3)}}function Z(o,i){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"form",10),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.searchForm)}}function C(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",23)(1,"span",24),t.NdJ("click",function(){const c=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.selectResource(c.Class))}),t._uU(2),t.qZA()()}if(2&o){const e=i.$implicit;t.xp6(2),t.Oqu(e.Class)}}function x(o,i){1&o&&(t.TgZ(0,"div")(1,"i"),t._uU(2,"none"),t.qZA()())}function F(o,i){if(1&o&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.selectedID," ")}}const T=[{path:"",component:f,children:[{path:"rdf/add/:id/:prop",component:(()=>{class o{constructor(e,n,s,c,l){this.fb=e,this.brapciService=n,this.localStorageService=s,this.router=c,this.route=l,this.loading=!1,this.loaging_img="/assets/img/loading.svg",this.fields=[],this.literal=!1,this.result=[],this.concepts=[],this.selectedID="",this.tclass=[],this.propriety="hasAuthor",this.class="Article",this.ID="0",this.btn1=!0,this.btn2=!0,this.btn3=!0,this.term="",this.select=[{x:"a"},{y:"b"},{z:"z"}]}ngOnInit(){this.sub=this.route.params.subscribe(e=>{this.ID=e.id,this.propriety=e.prop,this.fields=[{name:"Term",value:"",checked:!0},{name:"ID",value:this.ID,checked:!0},{name:"prop",value:this.propriety,checked:!0},this.recoverResources(this.ID,this.propriety)],this.createForm()})}selectResource(e){this.selectedID=e,this.btnChecks()}btnChecks(){this.btn1=!0,this.btn2=!0,this.btn3=!0,""!=this.selectedID&&(this.btn2=!1,this.btn3=!1),""==this.selectedID&&0==this.concepts.length&&(this.btn1=!1)}recoverResources(e,n){console.log("ID="+e),console.log("prop="+n),this.brapciService.api_post("rdf/getResource",{ID:e,prop:n}).subscribe(l=>{this.tclass=l,this.tclass=this.tclass.resource})}createForm(){this.searchForm=this.fb.group({term:[this.term,r.kI.required],ID:this.ID,prop:this.propriety})}submitAction(){this.brapciService.api_post("rdf/searchSelect",{q:this.searchForm.value.term,ID:this.searchForm.value.ID,prop:this.searchForm.value.prop}).subscribe(d=>{this.concepts=d,this.selectedID="",this.btnChecks()})}save(e){this.brapciService.api_post("rdf/dataAdd",{source:this.searchForm.value.ID,prop:this.searchForm.value.prop,resource:this.selectedID}).subscribe(A=>{this.concepts=A,e?this.wclose():(this.selectedID="",this.btnChecks(),window.opener.location.reload())})}keyUp(){}wclose(){window.opener.location.reload(),window.self.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(h.S),t.Y36(_.n),t.Y36(a.F0),t.Y36(a.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-rdf-form"]],decls:29,vars:11,consts:[[1,"aH"],[1,"container-fluid"],[1,"row"],[1,"col-10"],[4,"ngIf"],[1,"col-2","text-end"],[1,"border-bottom","border-secondary","small","center","bold"],[1,"mb-3"],["class","onHover",4,"ngFor","ngForOf"],[1,"border-bottom","border-secondary","small","center","bold","mt-3"],[3,"formGroup"],[1,"input-group","mb-3"],["id","term","type","term","placeholder","Digite aqui","formControlName","term","autofocus","","required","","aria-label","Termo de Busca","aria-describedby","button-addon2",3,"keyup"],["type","button","id","button-addon2",1,"btn","btn-outline-secondary",3,"click"],["type","submit",4,"ngIf"],["size","6",1,"full"],[3,"value","click",4,"ngFor","ngForOf"],[1,"btn","me-2","mt-3",3,"ngClass","disabled"],[1,"btn","me-2","mt-3",3,"ngClass","disabled","click"],[1,"btn","btn-outline-warning","me-2","mt-3",3,"click"],["type","submit"],[2,"height","65px",3,"src"],[3,"value","click"],[1,"onHover"],[3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1,"RDF Editor"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t._uU(5),t.ALo(6,"json"),t.YNc(7,g,20,9,"div",4),t.YNc(8,Z,2,1,"div",4),t.qZA(),t.TgZ(9,"div",5)(10,"div",6),t._uU(11,"Persistent ID"),t.qZA(),t.TgZ(12,"div",7),t._uU(13),t.qZA(),t.TgZ(14,"div",6),t._uU(15,"Class"),t.qZA(),t.TgZ(16,"div",7),t._uU(17),t.qZA(),t.TgZ(18,"div",6),t._uU(19,"Propriety"),t.qZA(),t.TgZ(20,"div",7),t._uU(21),t.qZA(),t.TgZ(22,"div",6),t._uU(23,"Resource"),t.qZA(),t.YNc(24,C,3,1,"div",8),t.TgZ(25,"div",9),t._uU(26,"Selected"),t.qZA(),t.YNc(27,x,3,0,"div",4),t.YNc(28,F,2,1,"div",4),t.qZA()()()),2&e&&(t.xp6(5),t.hij(" ==>",t.lcZ(6,9,n.searchForm.value)," "),t.xp6(2),t.Q6J("ngIf",0==n.literal),t.xp6(1),t.Q6J("ngIf",0==n.literal),t.xp6(5),t.Oqu(n.ID),t.xp6(4),t.Oqu(n.class),t.xp6(4),t.Oqu(n.propriety),t.xp6(3),t.Q6J("ngForOf",n.tclass),t.xp6(3),t.Q6J("ngIf",!n.selectedID),t.xp6(1),t.Q6J("ngIf",n.selectedID))},dependencies:[u.mk,u.sg,u.O5,r._Y,r.YN,r.Kr,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,u.Ts],encapsulation:2}),o})()}]}];let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.Bz.forChild(T),a.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,I,r.UX]}),o})()}}]);