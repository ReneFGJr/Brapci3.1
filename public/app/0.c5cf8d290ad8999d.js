"use strict";(self.webpackChunkBRP=self.webpackChunkBRP||[]).push([[0],{7e3:(v,l,c)=>{c.r(l),c.d(l,{OauthModule:()=>M});var g=c(6814),a=c(95),s=c(594),t=c(9468),_=c(4325),m=c(5780);let d=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-main"]],decls:3,vars:0,template:function(n,o){1&n&&t._UZ(0,"app-theme-navbar")(1,"router-outlet")(2,"app-theme-footer")},dependencies:[s.lC,_.p,m.E],encapsulation:2}),e})();var p=c(3915);let f=(()=>{class e{constructor(n,o){this.userService=n,this.router=o}ngOnInit(){this.userService.logout(),this.router.navigate(["/"])}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.K),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-oauth-logout"]],decls:1,vars:0,template:function(n,o){1&n&&t._uU(0,"LOGOUT")},encapsulation:2}),e})(),u=(()=>{class e{constructor(n,o,i){this.formBuilder=n,this.userService=o,this.router=i,this.oauthForm=this.formBuilder.group({email:["",a.kI.required],password:["",a.kI.required]}),this.questionForm=this.formBuilder.group({email:["",a.kI.required],text:["",a.kI.required]}),this.forgotForm=this.formBuilder.group({email:["",a.kI.required]}),this.Prism="",this.email="",this.message="",this.image_wait="assets/img/loading_gear.gif"}ngOnInit(){console.log("Login"),1==this.userService.loged()&&this.router.navigate(["/"])}onSubmit(n){}showForgotPassword(){let n=document.querySelector(".rec-prism");console.log(n),this.Prism="p1"}showThankYou(){this.Prism="pWait";let n=this.questionForm.value.email,o=this.oauthForm.value.text;this.oauthForm.valid?(this.Prism="pWait",this.userService.questionHttp(n,o).subscribe(i=>{this.result=i,this.Prism="pError",this.message="Dados inv\xe1lidos"},i=>{console.log("ERRO:"+i),this.message="Dados inv\xe1lidos",this.Prism="pError"})):(this.message="Dados inv\xe1lidos",this.Prism="pError")}signin(){this.oauthForm.valid?(this.Prism="pWait",this.userService.loginSubmitHttp(this.oauthForm.value.email,this.oauthForm.value.password).subscribe(n=>{this.result=n,this.userService.checkLogin(n)?this.router.navigate(["/"]):(this.message=this.result.message+" "+this.result.error,this.Prism="pError",this.message="Dados inv\xe1lidos")},n=>{console.log("ERRO:"+n),this.message="Dados inv\xe1lidos",this.Prism="pError"})):(this.message="Dados inv\xe1lidos",this.Prism="pError")}signUP(){this.userService.signUp(this.oauthForm.value.signup_name,this.oauthForm.value.signup_email,this.oauthForm.value.signup_institution).subscribe(n=>{console.log(n),this.data=n,this.message=this.data.message,this.Prism="pError"})}forgout(){this.forgotForm.valid?(this.Prism="pWait",this.userService.forgotHttp(this.forgotForm.value.email).subscribe(n=>{console.log(n),this.data=n,this.message=this.data.message,this.Prism="pError"})):(this.message="<h1>Erro</h1><p>Dados inv\xe1lidos</p>",this.Prism="pError")}moveBTN(n){this.Prism=n}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.qu),t.Y36(p.K),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-oauth-login"]],decls:93,vars:12,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"wrapper"],[1,"face","face-top"],[1,"content"],[3,"innerHTML"],[1,"singin",3,"click"],[1,"face","face-front"],[3,"formGroup","ngSubmit"],[1,"field-wrapper"],["type","text","formControlName","email","placeholder","e-mail"],["type","password","id","user_password","placeholder","social.user_password","autocomplete","new-password","formControlName","password"],[1,"btn","btn-primary",2,"width","100%",3,"disabled"],[1,"psw",3,"click"],[1,"signup",3,"click"],[1,"face","face-back"],["type","text","formControlName","email","placeholder","seu e-mail"],[1,"face","face-right"],["type","text","id","signup_name","placeholder","name"],["type","text","id","signup_email","placeholder","name"],["type","text","id","signup_institution","placeholder","name",3,"value"],[1,"btn","btn-primary",2,"width","100%",3,"click"],[1,"face","face-left"],["placeholder","Digite sua mensagem","rows","5","formControlName","text",1,"border","border-secondary","p-2","rounded",2,"font-size","0.7em"],["type","submit",3,"disabled","click"],[1,"face","face-bottom"],["id","board"],[3,"src"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4)(6,"div",5)(7,"small"),t._uU(8,"mensagem:"),t.qZA(),t._UZ(9,"div",6),t.TgZ(10,"span",7),t.NdJ("click",function(){return o.moveBTN("pLogin")}),t._uU(11,"voltar"),t.qZA()()(),t.TgZ(12,"div",8)(13,"div",5)(14,"form",9),t.NdJ("ngSubmit",function(){return o.signin()}),t.TgZ(15,"h2"),t._uU(16,"Acessar"),t.qZA(),t.TgZ(17,"div",10),t._UZ(18,"input",11),t.TgZ(19,"label"),t._uU(20,"Seu login"),t.qZA()(),t.TgZ(21,"div",10),t._UZ(22,"input",12),t.TgZ(23,"label"),t._uU(24,"Senha"),t.qZA()(),t.TgZ(25,"div",10)(26,"button",13),t._uU(27," Entrar "),t.qZA()(),t.TgZ(28,"span",14),t.NdJ("click",function(){return o.moveBTN("pForgot")}),t._uU(29,"Esqueceu a senha?"),t.qZA(),t.TgZ(30,"span",15),t.NdJ("click",function(){return o.moveBTN("pSingUp")}),t._uU(31,"N\xe3o tem um usu\xe1rio? Cadastrar-se"),t.qZA(),t.TgZ(32,"span",15),t.NdJ("click",function(){return o.moveBTN("pQuestion")}),t._uU(33,"D\xfavidas?"),t.qZA()()()(),t.TgZ(34,"div",16)(35,"div",5)(36,"form",9),t.NdJ("ngSubmit",function(){return o.forgout()}),t.TgZ(37,"h2"),t._uU(38,"Esqueceu a senha?"),t.qZA(),t.TgZ(39,"small"),t._uU(40,"Entre com seu e-mail para podermos enviar um link para ressetar sua senha"),t.qZA(),t.TgZ(41,"div",10),t._UZ(42,"input",17),t.TgZ(43,"label"),t._uU(44,"e-mail"),t.qZA()(),t.TgZ(45,"button",13),t._uU(46," Entrar "),t.qZA(),t.TgZ(47,"span",7),t.NdJ("click",function(){return o.moveBTN("pLogin")}),t._uU(48,"J\xe1 tem usu\xe1rio? Acessar"),t.qZA()()()(),t.TgZ(49,"div",18)(50,"div",5)(51,"h2"),t._uU(52,"Cadastrar-se"),t.qZA(),t.TgZ(53,"div",10),t._UZ(54,"input",19),t.TgZ(55,"label"),t._uU(56,"Nome completo do usu\xe1rio"),t.qZA()(),t.TgZ(57,"div",10),t._UZ(58,"input",20),t.TgZ(59,"label"),t._uU(60,"e-mail"),t.qZA()(),t.TgZ(61,"div",10),t._UZ(62,"input",21),t.TgZ(63,"label"),t._uU(64,"Nome da institui\xe7\xe3o"),t.qZA()(),t.TgZ(65,"div",10)(66,"button",22),t.NdJ("click",function(){return o.signUP()}),t._uU(67," Cadastrar-se "),t.qZA()(),t.TgZ(68,"span",7),t.NdJ("click",function(){return o.moveBTN("pLogin")}),t._uU(69,"J\xe1 tem usu\xe1rio? Acessar"),t.qZA()()(),t.TgZ(70,"div",23)(71,"div",5)(72,"form",9),t.NdJ("ngSubmit",function(){return o.signin()}),t.TgZ(73,"h2"),t._uU(74,"Entre em contato"),t.qZA(),t.TgZ(75,"div",10),t._UZ(76,"input",17),t.TgZ(77,"label"),t._uU(78,"e-mail"),t.qZA()(),t.TgZ(79,"div",10),t._UZ(80,"textarea",24),t.TgZ(81,"label"),t._uU(82,"-Digite sua mensagem"),t.qZA()(),t.TgZ(83,"div",10)(84,"input",25),t.NdJ("click",function(){return o.showThankYou()}),t.qZA(),t.TgZ(85,"span",7),t.NdJ("click",function(){return o.moveBTN("pLogin")}),t._uU(86,"J\xe1 tem usu\xe1rio? Acessar"),t.qZA()()()()(),t.TgZ(87,"div",26)(88,"div",5)(89,"div",27)(90,"h2"),t._uU(91,"conectando, aguarde ..."),t.qZA(),t._UZ(92,"img",28),t.qZA()()()()()()()()),2&n&&(t.xp6(4),t.Gre("rec-prism ",o.Prism,""),t.xp6(5),t.Q6J("innerHTML",o.message,t.oJD),t.xp6(5),t.Q6J("formGroup",o.oauthForm),t.xp6(12),t.Q6J("disabled",o.oauthForm.invalid),t.xp6(10),t.Q6J("formGroup",o.forgotForm),t.xp6(9),t.Q6J("disabled",o.forgotForm.invalid),t.xp6(17),t.s9C("value",o.email),t.xp6(10),t.Q6J("formGroup",o.questionForm),t.xp6(12),t.Q6J("disabled",!o.questionForm.valid),t.xp6(8),t.Q6J("src",o.image_wait,t.LSH))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.wrapper[_ngcontent-%COMP%]{width:250px;height:350px;margin:30px auto;perspective:600px;text-align:left}.rec-prism[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transform-style:preserve-3d;transform:translateZ(-100px);transition:transform .5s ease-in}.plogin[_ngcontent-%COMP%]{transform:translateZ(-100px)}.pSingUp[_ngcontent-%COMP%]{transform:translateZ(-100px) rotateY(-90deg)}.pForgot[_ngcontent-%COMP%]{transform:translateZ(-100px) rotateY(-180deg)}.pQuestion[_ngcontent-%COMP%]{transform:translateZ(-100px) rotateY(-270deg)}.pError[_ngcontent-%COMP%]{transform:translateZ(-100px) rotateX(-90deg)}.pWait[_ngcontent-%COMP%]{transform:translateZ(-100px) rotateX(90deg)}.face[_ngcontent-%COMP%]{position:absolute;width:250px;height:350px;padding:20px;background:rgba(250,250,250,.96);border:3px solid #0093DD;border-radius:3px}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:#666}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2em;color:#0093dd}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]{margin-top:30px;position:relative}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;pointer-events:none;font-size:.85em;top:40%;left:0;transform:translateY(-50%);transition:all ease-in .25s;color:#999}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:focus, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;line-height:2em;border-bottom:1px solid #0093DD;color:#666}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-webkit-input-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::-webkit-input-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{opacity:0}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::-moz-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::-moz-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{opacity:0}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:-ms-input-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:-ms-input-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-ms-input-placeholder{opacity:0}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:-moz-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:-moz-placeholder, .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:-moz-placeholder{opacity:0}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-35%;color:#42509e}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;cursor:pointer;width:100%;background:#0093DD;line-height:2em;color:#fff;border:1px solid #0093DD;border-radius:3px;padding:5px}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{opacity:.9}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:active{transform:scale(.96)}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;line-height:1em}.face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .face[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .field-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{top:-25%}.face[_ngcontent-%COMP%]   .thank-you-msg[_ngcontent-%COMP%]{position:absolute;width:200px;height:130px;text-align:center;font-size:2em;color:#0093dd;left:50%;top:50%;-webkit-transform:translate(-50%,-50%)}.face[_ngcontent-%COMP%]   .thank-you-msg[_ngcontent-%COMP%]:after{position:absolute;content:"";width:50px;height:25px;border:10px solid #0093DD;border-right:0;border-top:0;left:50%;top:50%;transform:translate(-50%,-50%) rotate(0) scale(0);animation:success ease-in .15s forwards;animation-delay:2.5s}.face-front[_ngcontent-%COMP%]{transform:rotateY(0) translateZ(125px)}.face-top[_ngcontent-%COMP%]{height:250px;transform:rotateX(90deg) translateZ(125px)}.face-back[_ngcontent-%COMP%]{transform:rotateY(180deg) translateZ(125px)}.face-right[_ngcontent-%COMP%]{transform:rotateY(90deg) translateZ(125px)}.face-left[_ngcontent-%COMP%]{transform:rotateY(-90deg) translateZ(125px)}.face-bottom[_ngcontent-%COMP%]{height:250px;transform:rotateX(-90deg) translateZ(225px)}.nav[_ngcontent-%COMP%]{padding:0;text-align:center}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;list-style-type:none;font-size:1em;margin:0 10px;color:#fff;position:relative;cursor:pointer}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:20px;border-bottom:1px solid #FFFFFF;transition:all ease-in .25s}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{width:100%}.psw[_ngcontent-%COMP%], .signup[_ngcontent-%COMP%], .singin[_ngcontent-%COMP%]{display:block;margin:10px 0;font-size:.75em;text-align:center;color:#42509e;cursor:pointer}small[_ngcontent-%COMP%]{font-size:.7em}']}),e})();function C(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t._uU(3,"PERFIL"),t.qZA(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6),t.qZA(),t.TgZ(7,"h2"),t._uU(8),t.qZA(),t.TgZ(9,"h2"),t._uU(10),t.qZA(),t.TgZ(11,"h2"),t._uU(12),t.qZA(),t._UZ(13,"hr"),t.TgZ(14,"a",4),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.logout())}),t._uU(15,"Logout"),t.qZA(),t.TgZ(16,"a",5),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.cip())}),t._uU(17,"Acessar Centro Integrado de Pesquisa"),t.qZA()()()()}if(2&e){const n=t.oxw();t.xp6(6),t.Oqu(n.user.sn),t.xp6(2),t.Oqu(n.user.givenName),t.xp6(2),t.Oqu(n.user.email),t.xp6(2),t.Oqu(n.user.token)}}const P=[{path:"",component:d,children:[{path:"",component:u},{path:"signin",component:u},{path:"logout",component:f},{path:"perfil",component:(()=>{class e{constructor(n,o){this.userService=n,this.router=o}ngOnInit(){this.user=this.userService.getUser()}logout(){this.userService.logout(),this.router.navigate(["/"])}cip(){document.location.href="https://cip.brapci.inf.br/social/token/?token="+this.user.token}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(p.K),t.Y36(s.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-perfil"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-12"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-primary","ms-2",3,"click"]],template:function(n,o){1&n&&t.YNc(0,C,18,4,"div",0),2&n&&t.Q6J("ngIf",o.user.givenName)},dependencies:[g.O5]}),e})()}]}];let O=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(P),s.Bz]}),e})();var h=c(2692);let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.ez,O,a.UX,h.O]}),e})()}}]);